<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:36.85pt;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
h1
	{mso-style-link:"Заголовок 1 Знак";
	margin-top:0cm;
	margin-right:36.85pt;
	margin-bottom:12.0pt;
	margin-left:56.95pt;
	text-align:center;
	text-indent:0cm;
	page-break-before:always;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	color:maroon;
	text-transform:uppercase;}
h2
	{mso-style-link:"Заголовок 2 Знак";
	margin-top:12.0pt;
	margin-right:39.7pt;
	margin-bottom:3.0pt;
	margin-left:112.1pt;
	text-indent:-1.0cm;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";}
h3
	{mso-style-link:"Заголовок 3 Знак";
	margin-top:12.0pt;
	margin-right:39.7pt;
	margin-bottom:3.0pt;
	margin-left:138.4pt;
	text-indent:-31.2pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";}
h4
	{mso-style-link:"Заголовок 4 Знак";
	margin-top:12.0pt;
	margin-right:39.7pt;
	margin-bottom:3.0pt;
	margin-left:139.15pt;
	text-indent:-45.35pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	font-style:italic;}
span.1
	{mso-style-name:"Заголовок 1 Знак";
	mso-style-link:"Заголовок 1";
	font-family:"Arial","sans-serif";
	color:maroon;
	text-transform:uppercase;
	font-weight:bold;}
span.2
	{mso-style-name:"Заголовок 2 Знак";
	mso-style-link:"Заголовок 2";
	font-family:"Arial","sans-serif";
	font-weight:bold;}
span.3
	{mso-style-name:"Заголовок 3 Знак";
	mso-style-link:"Заголовок 3";
	font-family:"Arial","sans-serif";
	font-weight:bold;}
span.4
	{mso-style-name:"Заголовок 4 Знак";
	mso-style-link:"Заголовок 4";
	font-family:"Arial","sans-serif";
	font-weight:bold;
	font-style:italic;}
p.a, li.a, div.a
	{mso-style-name:"Стиль текста программ в рамке";
	margin-top:3.0pt;
	margin-right:0cm;
	margin-bottom:12.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.aCxSpFirst, li.aCxSpFirst, div.aCxSpFirst
	{mso-style-name:"Стиль текста программ в рамкеCxSpFirst";
	margin-top:3.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	border:none;
	padding:0cm;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.aCxSpMiddle, li.aCxSpMiddle, div.aCxSpMiddle
	{mso-style-name:"Стиль текста программ в рамкеCxSpMiddle";
	margin:0cm;
	margin-bottom:.0001pt;
	border:none;
	padding:0cm;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.aCxSpLast, li.aCxSpLast, div.aCxSpLast
	{mso-style-name:"Стиль текста программ в рамкеCxSpLast";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:12.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.a0, li.a0, div.a0
	{mso-style-name:СтильЗаголовкаЛистинга;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:justify;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
.MsoChpDefault
	{font-family:"Calibri","sans-serif";}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=RU>

<div class=WordSection1>

<h3 style='margin-left:70.9pt;text-indent:-34.05pt'><a name="_Toc391820178"><span
lang=UK>6.1.1 </span><span lang=UK>Статистична інформація про довжину черги</span></a></h3>

<p class=MsoNormal><span lang=UK>Для<span style='color:black'> збору
статистичної інформації про довжину черги в даному проекті використовується
об’єкт </span></span><span lang=EN-US style='color:black'>queue</span><span
lang=EN-US style='color:black'> </span><span lang=UK style='color:black'>класу </span><span
lang=EN-US>QueueFor</span><span lang=UK>Transactio</span><span lang=EN-US>ns</span><span
lang=UK>, який <span style='color:black'>моделює чергу в системі. Цей об’єкт забезпечує
і динамічну індикацію зміни своїх розмірів на діаграмі. Для накопичення
статистичної інформації об’єктові </span></span><span lang=EN-US
style='color:black'>queue</span><span lang=EN-US style='color:black'> </span><span
lang=UK style='color:black'>було передано посилання на об'єкт </span><span
lang=EN-US style='color:black'>discretHisto</span><span lang=UK
style='color:black'> класу </span><span lang=EN-US style='color:black'>D</span><span
lang=UK style='color:black'>iscretHisto. Об’єкт </span><span lang=EN-US
style='color:black'>queue</span><span lang=UK style='color:black'> перед кожною
зміною розміру черги передає до об'єкту </span><span lang=EN-US
style='color:black'>discretHisto</span><span lang=UK style='color:black'> свій
розмір та час, на протязі якого цей розмір не змінювався. </span></p>

<p class=MsoNormal><span lang=UK style='color:black'>Програмно це реалізовано
через методи beforeAdd() і beforeRemove(), які викликаються  перед зміною </span><span
lang=UK>розміру черги. Ці методи викликають приватний метод accum(), що передає
дані у гістограму через метод addFrequencyForValue(</span><span lang=EN-US>double</span><span
lang=EN-US> </span><span lang=EN-US>frequency</span><span lang=UK>, </span><span
lang=EN-US>double</span><span lang=EN-US> </span><span lang=EN-US>value</span><span
lang=UK>), </span><span lang=EN-US>frequency</span><span lang=UK> – це різниця
між поточним часом і моментом попередньої зміни черги, а </span><span
lang=EN-US>value</span><span lang=UK> - це довжина черги. </span></p>

<p class=MsoNormal><span lang=UK>Для зберігання значення моменту часу,
пов'язаного з<span style='color:black'> попередньою зміною черги,
використовується приватна змінна екземпляра lastTime. Очищення черги й
ініціалізація змінної lastTime відбувається в методі init().</span></span></p>

<p class=MsoNormal><span lang=UK style='color:black'>Текст методу </span><span
lang=UK>accum() <span style='color:black'>наведений у лістингу 6.4.</span></span></p>

<p class=a0><span lang=UK>Лістинг 6.4 - Метод накопичення інформації про
довжину черги</span></p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=aCxSpFirst><span lang=UK>    private void accum() {</span></p>

<p class=aCxSpMiddle><span lang=UK>        if (discretHisto != null) {</span></p>

<p class=aCxSpMiddle><span lang=UK>           
discretHisto.addFrequencyForValue(</span></p>

<p class=aCxSpMiddle><span lang=UK>                dispatcher.getCurrentTime()
- lastTime, size());</span></p>

<p class=aCxSpMiddle><span lang=UK>            lastTime =
dispatcher.getCurrentTime();</span></p>

<p class=aCxSpMiddle><span lang=UK>        }</span></p>

<p class=aCxSpLast><span lang=UK>    }</span></p>

</div>

<p class=MsoNormal><span lang=UK style='color:black'>У  класі DiscretHisto ці
дані накопичуються спочатку у колекції. Якщо розмір колекції перевищує 500, або
процес накопичення закінчився,  у класі створюється два масиви. Один для  унікальних
значень параметру </span><span lang=EN-US style='color:black'>value</span><span
lang=UK style='color:black'>, другий для сум відповідних значень </span><span
lang=EN-US style='color:black'>frequency</span><span lang=UK style='color:black'>.
Таким чином дані  </span><span lang=EN-US style='color:black'>value</span><span
lang=EN-US style='color:black'> </span><span lang=UK style='color:black'>опиняються
у елементах масиву arrayForValue, а відповідніі інтервали часу накопичуються в
елементах масиву arrayForAbsolutFrequency.</span></p>

<p class=MsoNormal><span lang=UK style='color:black'> Якщо після цього значення
</span><span lang=EN-US style='color:black'>value</span><span lang=UK
style='color:black'> перевищує максимальне із значень, заданих у масиві
arrayForValue, то переданий інтервал накопичується в останньому елементі
масиву. Для  пошуку  середньої  довжини  черги в  класі DiscretHisto введені
змінні totalInterval і  </span><span lang=UK>totalIntegral. У першій з них
накопичується загальна сума відрізків часу які заносяться в гістограму.
Наприкінці моделювання тут буде величина, що дорівнює всьому періоду
накопичення інформації. У другий  змінній  накопичується<span style='color:
black'>  інтеграл від  довжини  черги  за  часом, значення якого визначається 
шляхом множення поточної довжини черги на ширину тимчасового інтервалу між
поточним часом і часом попередньої події.</span>  <span style='color:black'>Наприкінці 
моделювання,  </span>щоб  оцінити  ймовірність появи  кожного із  значень  <span
style='color:black'>масиву arrayForValue </span>кожен з <span style='color:
black'>елементів масиву arrayForAbsolutFrequency</span> ділиться <span
style='color:black'>на  значення змінної totalInterval. А розділивши  значення
змінної  totalIntegral  на  значення змінної totalInterval, одержуємо  середню 
довжину  черги.</span></span></p>

<h3 style='margin-left:70.9pt;text-indent:-34.05pt'><a name="_Toc391820179"><span
lang=UK style='color:black'>6.1.2 </span><span lang=UK style='color:black'>Статистична
інформація про час очікування в черзі</span></a></h3>

<p class=MsoNormal><span lang=UK style='color:black'>У рішенні цієї задачі бере
участь декілька компонентів моделі. </span><span lang=UK>Як ми бачили раніше,
заявка, що створюється об'єктом класу </span><span lang=EN-US>t</span><span
lang=UK>heorStudy.TransactGenerator, являє собою час її створення<span
style='color:black'>. Отже,  від генератора заявок, через чергу, до
обслуговуючого приладу, передається час появи заявки, яка обслуговується.</span></span></p>

<p class=MsoNormal><span lang=UK style='color:black'>У класі </span><span
lang=EN-US>t</span><span lang=UK>heorStudy.<span style='color:black'>Device,
який використовується для створення об'єкта, що моделює роботу обслуговуючого
приладу, забезпечується </span>обчислення часу очікування в черзі. <span
style='color:black'>Час очікування визначається як різниця між поточним часом і
значенням змінної, що вилучена з черги</span>. Ця і<span style='color:black'>нформація
передається об'єкту класу Histo за допомогою методу </span></span><span
lang=EN-US style='color:black'>add</span><span lang=UK style='color:black'>(</span><span
lang=EN-US style='color:black'>double</span><span lang=UK style='color:black'>).
</span><span style='color:black'>У </span><span lang=UK style='color:black'>цьому
об’єкті дані спочатку просто накопичуються у колекції. Коли їх кількість
перевищує 500, ці дані аналізуються, визначається мінімальне та максимальне
значення для даних. Після цього визначається кількість інтервалів і гістограма
ініціалізується. Завершується цей етап перенесенням даних з колекції до
гістограми. Надалі, нові дані заносяться безпосередньо до гістограми. </span></p>

<p class=MsoNormal><span lang=UK>&nbsp;</span></p>

</div>

</body>

</html>
