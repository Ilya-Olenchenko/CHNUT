<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:35.45pt;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;}
h1
	{mso-style-name:"Заголовок 1\,Знак";
	mso-style-link:"Заголовок 1 Знак";
	margin-top:0cm;
	margin-right:39.7pt;
	margin-bottom:18.0pt;
	margin-left:148.95pt;
	text-align:center;
	text-indent:85.0pt;
	page-break-before:always;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	color:maroon;
	text-transform:uppercase;}
h2
	{mso-style-link:"Заголовок 2 Знак";
	margin-top:18.0pt;
	margin-right:39.7pt;
	margin-bottom:12.0pt;
	margin-left:36.0pt;
	text-indent:0cm;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;}
h3
	{mso-style-link:"Заголовок 3 Знак";
	margin-top:12.0pt;
	margin-right:39.7pt;
	margin-bottom:6.0pt;
	margin-left:164.2pt;
	text-indent:-110.2pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	font-style:italic;}
h4
	{mso-style-link:"Заголовок 4 Знак1";
	margin-top:12.0pt;
	margin-right:39.7pt;
	margin-bottom:6.0pt;
	margin-left:32.4pt;
	text-indent:-32.4pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-link:"Название объекта Знак";
	margin-top:6.0pt;
	margin-right:2.0cm;
	margin-bottom:12.0pt;
	margin-left:0cm;
	text-align:center;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{mso-style-link:"Основной текст Знак";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.1
	{mso-style-name:"Заголовок 1 Знак";
	mso-style-link:"Заголовок 1\,Знак";
	font-family:"Arial",sans-serif;
	color:maroon;
	text-transform:uppercase;
	font-weight:bold;}
span.2
	{mso-style-name:"Заголовок 2 Знак";
	mso-style-link:"Заголовок 2";
	font-family:"Arial",sans-serif;
	font-weight:bold;}
span.3
	{mso-style-name:"Заголовок 3 Знак";
	mso-style-link:"Заголовок 3";
	font-family:"Arial",sans-serif;
	font-weight:bold;
	font-style:italic;}
span.4
	{mso-style-name:"Заголовок 4 Знак";
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;
	font-style:italic;}
p.a, li.a, div.a
	{mso-style-name:"Стиль основного текста";
	mso-style-link:"Стиль основного текста Знак1";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:36.85pt;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;}
span.10
	{mso-style-name:"Стиль основного текста Знак1";
	mso-style-link:"Стиль основного текста";
	font-family:"Times New Roman",serif;}
span.41
	{mso-style-name:"Заголовок 4 Знак1";
	mso-style-link:"Заголовок 4";
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.a0, li.a0, div.a0
	{mso-style-name:СтильРисунка;
	mso-style-link:"СтильРисунка Знак";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;}
p.a1, li.a1, div.a1
	{mso-style-name:"Стиль текста программ в рамке";
	mso-style-link:"Стиль текста программ в рамке Знак";
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.a2
	{mso-style-name:"Основной текст Знак";
	mso-style-link:"Основной текст";
	font-family:"Times New Roman",serif;}
p.a3, li.a3, div.a3
	{mso-style-name:Листинг;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;}
span.a4
	{mso-style-name:"Стиль текста программ в рамке Знак";
	mso-style-link:"Стиль текста программ в рамке";
	font-family:"Times New Roman",serif;}
span.a5
	{mso-style-name:"СтильРисунка Знак";
	mso-style-link:СтильРисунка;
	font-family:"Times New Roman",serif;}
span.a6
	{mso-style-name:"Название объекта Знак";
	mso-style-link:"Название объекта";
	font-family:"Times New Roman",serif;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=UK>

<div class=WordSection1>

<h2 style='margin-top:18.0pt;margin-right:2.85pt;margin-bottom:12.0pt;
margin-left:65.2pt;text-indent:-1.0cm'><a name="_Toc484953442"></a><a
name="_Toc392262912">1.1  Побудова активних компонентів  моделі з використанням
розглянутих класів</a> </h2>

<p class=MsoNormal>Можливості використання розглянутих класів для імітаційного
моделювання продемонструємо на  прикладі реалізації шару компонентів моделі
простої СМО, що розглядалася у попередній лабораторній роботі.</p>

<p class=MsoNormal>Шар подання та клас моделі було вже створено у попередній
лабораторній роботі.</p>

<p class=MsoNormal>Тут ми створимо класи для акторів моделі та клас транзакції.
</p>

<h3 style='margin-left:72.0pt;text-indent:-36.0pt'><a name="_Toc390801296"></a><a
name="_Toc484953443"></a><a name="_Toc392262913"><span lang=RU
style='font-style:normal'>1.1.1 </span>Аналіз правил дії активних компонентів</a><a
name="_Toc392262914"></a></h3>

<h4 style='margin-top:12.0pt;margin-right:39.7pt;margin-bottom:3.0pt;
margin-left:3.0cm;text-indent:-45.35pt'><a name="_Toc484953444"><span
style='font-weight:normal'>1.1.1.1 </span>Клас транзакції</a></h4>

<p class=a>Транзакція має стати у чергу на обслуговування та фіксувати інтервали
часу, коли вона перебувала у черзі та повний час обслуговування. </p>

<p class=a>Перелік даних, що необхідні транзакції для вирішення цих завдань,
наведено у таблиці&nbsp;4.1.</p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=626
 style='width:469.35pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=626 colspan=4 valign=top style='width:469.35pt;border:none;
  border-bottom:solid windowtext 1.0pt;padding:7.1pt 5.4pt 2.85pt 0cm'>
  <p class=a align=left style='margin-left:92.05pt;text-align:left;text-indent:
  -90.0pt'>Таблиця 4.1 – Атрибути абстракції «Транзакція»</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Назва поля</p>
  </td>
  <td width=126 style='width:94.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Клас(Тип) </p>
  </td>
  <td width=296 style='width:221.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Призначення
  поля</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Джерело</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>createTime</span></p>
  </td>
  <td width=126 style='width:94.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>double</p>
  </td>
  <td width=296 style='width:221.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Час появи
  транзакції у системі</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Dispather</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>serviceDone</span></p>
  </td>
  <td width=126 style='width:94.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>boolean</p>
  </td>
  <td width=296 style='width:221.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Ознака
  завершення обслуговування</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Device</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>queue</span></p>
  </td>
  <td width=126 style='width:94.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>QueueForTransaction</p>
  </td>
  <td width=296 style='width:221.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Посилання на чергу
  транзакцій</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Model</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>histoQueue</span></p>
  </td>
  <td width=126 style='width:94.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Histo</p>
  </td>
  <td width=296 style='width:221.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Гістограма часу
  перебування у черзі</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Model</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>histoService</span></p>
  </td>
  <td width=126 style='width:94.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Histo</p>
  </td>
  <td width=296 style='width:221.9pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Гістограма для
  часу обслуговування</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Model</p>
  </td>
 </tr>
</table>

</div>

<p class=a>&nbsp;</p>

<p class=a>Атрибут createTime потрібен для визначення часу перебування у
системі та у черзі. Його об’єкт може отримати на початку роботи через метод
getCurrentTime від диспетчера.</p>

<p class=a>Ознака serviceDone потрібна для визначення моменту завершення
процесу обслуговування. Значення true для цієї ознаки має встановити
обслуговуючий пристрій після завершення обслуговування. Для цього має бути
відповідний метод set… .</p>

<p class=a>Посилання на гістограми та чергу об1єкт може отримати через
посилання на модель, яке може бути передано через конструктор.</p>

<p class=a>Правила дії транзакції схематично можна представити у вигляді
діаграми діяльності, рисунок 4.1.</p>

<p class=a0><img width=181 height=388 id="Рисунок 23"
src="Lab4example.files/image001.png"></p>

<p class=MsoCaption style='margin-left:40.2pt'>Рисунок 4.1 – Діаграма
діяльності абстракції транзакція</p>

<h4 style='margin-top:12.0pt;margin-right:39.7pt;margin-bottom:3.0pt;
margin-left:3.0cm;text-indent:-45.35pt'><a name="_Toc484953445"><span
style='font-weight:normal'>1.1.1.2 </span>Генер</a>атор транзакцій</h4>

<p class=a>Головне завдання цієї абстракції – через випадкові інтервали часу створювати
транзакції та передавати їх диспетчеру. Свої дії об’єкт має виконувати впродовж
усього часу моделювання. </p>

<p class=a>Перелік даних, необхідних Генератору, наведено у таблиці&nbsp;4.2.</p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=626
 style='width:469.35pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=626 colspan=4 valign=top style='width:469.35pt;border:none;
  border-bottom:solid windowtext 1.0pt;padding:7.1pt 5.4pt 2.85pt 0cm'>
  <p class=a align=left style='margin-left:92.05pt;text-align:left;text-indent:
  -90.0pt'>Таблиця 4.2 – Атрибути абстракції Генератор</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Назва поля</p>
  </td>
  <td width=132 style='width:99.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Клас </p>
  </td>
  <td width=289 style='width:217.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Призначення
  поля</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Джерело</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>model</span></p>
  </td>
  <td width=132 style='width:99.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Model</p>
  </td>
  <td width=289 style='width:217.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Посилання на модель
  системи</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Model</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>rnd</span></p>
  </td>
  <td width=132 style='width:99.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Randomable</p>
  </td>
  <td width=289 style='width:217.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Генератор
  випадкових чисел</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>GUI</p>
  </td>
 </tr>
 <tr>
  <td width=111 style='width:83.05pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>finishTime</span></p>
  </td>
  <td width=132 style='width:99.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>double</p>
  </td>
  <td width=289 style='width:217.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Час моделювання</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 1.4pt 0cm 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>GUI</p>
  </td>
 </tr>
</table>

</div>

<p class=a>Посилання на модель системи необхідно зберігати, бо воно потрібно
для подальшої передачі транзакціям, що будуть створюватися.</p>

<p class=a>Атрибут rnd буде використовуватися для формування випадкової
величини інтервалу часу між створеннями транзакцій. Посилання на цей елемент
можна отримати з візуальної частини.</p>

<p class=a>Поле finishTime визначає час, впродовж якого має працювати
генератор. Значення цього атрибуту можна також отримати з візуальної частини
проекту.</p>

<p class=a>Посилання на візуальну частину і на модель має бути передано через
конструктор.</p>

<p class=a>Правила дії генератора схематично можна представити у вигляді
діаграми діяльності, рисунок 4.2.</p>

<p class=a0><img width=271 height=279 id="Рисунок 33"
src="Lab4example.files/image002.png"></p>

<p class=MsoCaption style='margin-left:40.2pt'>Рисунок 4.2 – Діаграма
діяльності абстракції генератор</p>

<h4 style='margin-top:12.0pt;margin-right:39.7pt;margin-bottom:3.0pt;
margin-left:3.0cm;text-indent:-45.35pt'><a name="_Toc484953446"><span
style='font-weight:normal'>1.1.1.3 </span>Обслуговуючий пристрій</a></h4>

<p class=a>Обслуговуючий пристрій працює із чергою транзакцій. Якщо черга
пуста, обслуговуючий пристрій чекає на появу транзакції. Якщо транзакція є, пристрій
забирає її з черги для обслуговування. Далі обслуговуючий пристрій імітує
обробку транзакції шляхом затримки на деякий час. Після цього пристрій
повідомляє транзакцію про завершення обслуговування. </p>

<p class=a>Далі правила дії повторюються. Пристрій працює впродовж усього часу
моделювання. </p>

<p class=a>Для роботи обслуговуючому пристрою необхідні дані, перелік яких
наведено у таблиці&nbsp;4.3.</p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=626
 style='width:469.35pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=626 colspan=4 style='width:469.35pt;border:none;border-bottom:solid windowtext 1.0pt;
  padding:2.85pt 5.4pt 2.85pt 0cm'>
  <p class=a align=left style='margin-left:92.05pt;text-align:left;text-indent:
  -90.0pt'>Таблиця 4.3 – Атрибути абстракції Обслуговуючий пристрій</p>
  </td>
 </tr>
 <tr>
  <td width=126 style='width:94.25pt;border:solid windowtext 1.0pt;border-top:
  none;padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Назва поля</p>
  </td>
  <td width=134 style='width:100.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Клас </p>
  </td>
  <td width=272 style='width:204.35pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Призначення
  поля</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Джерело</p>
  </td>
 </tr>
 <tr>
  <td width=126 style='width:94.25pt;border:solid windowtext 1.0pt;border-top:
  none;padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>queue</span></p>
  </td>
  <td width=134 style='width:100.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>QueueForTransaction</p>
  </td>
  <td width=272 style='width:204.35pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Посилання на
  чергу транзакцій</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Model</p>
  </td>
 </tr>
 <tr>
  <td width=126 style='width:94.25pt;border:solid windowtext 1.0pt;border-top:
  none;padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>rnd</span></p>
  </td>
  <td width=134 style='width:100.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Randomable</p>
  </td>
  <td width=272 style='width:204.35pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Посилання на
  генератор випадкових чисел</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Gui</p>
  </td>
 </tr>
 <tr>
  <td width=126 style='width:94.25pt;border:solid windowtext 1.0pt;border-top:
  none;padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=MsoBodyText><span style='font-size:14.0pt'>finishTime</span></p>
  </td>
  <td width=134 style='width:100.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>double</p>
  </td>
  <td width=272 style='width:204.35pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=left style='text-align:left;text-indent:0cm'>Час моделювання</p>
  </td>
  <td width=94 style='width:70.25pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:2.85pt 1.4pt 2.85pt 1.4pt'>
  <p class=a align=center style='text-align:center;text-indent:0cm'>Gui</p>
  </td>
 </tr>
</table>

</div>

<p class=a>&nbsp;</p>

<p class=a>Атрибут queue – це черга транзакцій. Посилання на неї можна отримати
через модель.</p>

<p class=a>Атрибут rnd буде використовуватися для формування випадкової
величини інтервалу часу, що витрачається на обробку транзакцій. Посилання на
цей елемент можна отримати з візуальної частини.</p>

<p class=a>Поле finishTime визначає час, впродовж якого має працювати пристрій.
Значення цього атрибуту можна також отримати з візуальної частини проекту.</p>

<p class=a>Посилання на візуальну частину і на модель має бути передано через
конструктор.</p>

<p class=a>Правила дії обслуговуючого пристрою схематично можна представити у
вигляді діаграми діяльності, рисунок 4.3.</p>

<p class=a0><img width=278 height=331 id="Рисунок 34"
src="Lab4example.files/image003.png"></p>

<p class=MsoCaption style='margin-left:35.4pt;text-indent:35.4pt'>Рисунок 4.3 –
Діаграма діяльності абстракції обслуговуючий пристрій</p>

<h3 style='margin-left:72.0pt;text-indent:-36.0pt'><a name="_Toc484953447"></a><a
name="_Toc392262917"><span lang=RU style='font-style:normal'>1.1.2 </span>Реалізація
класів активних компонент моделі</a></h3>

<p class=MsoNormal>Класи, що потребують реалізації у даному проекті 
– це класи для транзакцій, генератора транзакцій та обслуговуючого пристрою. 
Для створення об'єктів цих класів використовуються конструктори, 
через які передаються посилання на візуальну частину та модель. 
На підставі цих посилань у конструкторі ініціалізуються усі необхідні поля. 
Таким чином, атрибути акторів приймають свої значення у момент створення актора. 
У тих випадках, коли налаштування актора потрібно змінити після їх створення, 
слід для цього створити відповідні методи.

</p>

<p class=MsoNormal>Поля, що містять умови у вигляді лямбда функцій у конструкторі ініціалізувати недоцільно. 
Справа у тому, що ці функції можуть містити посилання на створюваний об’єкт, якого в цей час ще не існує. 
Тому лямбда функції для умов, якщо вони є, створюються у методі rule, 
тобто в момент запуску правил дії акторів.</p>

<h4 style='margin-top:12.0pt;margin-right:39.7pt;margin-bottom:3.0pt;
margin-left:3.0cm;text-indent:-45.35pt'><a name="_Toc484953448"></a><a
name="_Toc392262918"></a><a name="_Toc390801316"></a><a name="_Toc314560879"><span
style='font-weight:normal'>1.1.2.1 </span>Клас </a>Transaction</h4>

<p class=a>Об’єкти цього класу представляють абстракцію транзакція. У
лістингу&nbsp;4.14 наведено текст класу з коментарями.</p>

<p class=a3>Лістинг 4.14 –  Клас Transaction</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=a1CxSpFirst><span style='font-size:13.0pt'>public class Transaction
extends Actor {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private double
createTime;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private
QueueForTransactions&lt;Transaction&gt; queue;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private Histo
histoQueue;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private Histo
histoService;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private boolean
serviceDone;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     public
Transaction(Model model) {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          this.queue =
model.getQueue();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          this.histoQueue
= model.getHistoTransactionWaitInQueue();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          this.histoService
= model.getHistoTransactionServiceTime();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     }</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     public double
getCreateTime() {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          return createTime;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     }</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     public void
setServiceDone(boolean b) {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          this.serviceDone
= b;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     }</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     @Override</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     public String
toString() {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          return
&quot;Transaction &quot; + createTime;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     }</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     @Override</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     protected void rule()
throws DispatcherFinishException {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          createTime =
dispatcher.getCurrentTime();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          nameForProtocol
= &quot;Транзакція &quot; + createTime;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          queue.add(this);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          waitForCondition(()
-&gt; !queue.contains(this), &quot;мають забрати на обслуговування&quot;);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          histoQueue.add(dispatcher.getCurrentTime()
- createTime);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          waitForCondition(()
-&gt; serviceDone, &quot;мають завершити обслуговування&quot;);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          histoService.add(dispatcher.getCurrentTime()
- createTime);</span></p>

<p class=a1CxSpLast><span style='font-size:13.0pt'>     }</span></p>

</div>

<p class=MsoNormal align=left style='text-align:left;text-indent:0cm;
text-autospace:none'><span style='font-size:10.0pt;font-family:Consolas'>&nbsp;</span></p>

<h4 style='margin-bottom:3.0pt'><a name="_Toc484953449"><span style='font-weight:
normal'>1.1.2.1 </span>Клас Generator</a></h4>

<p class=a>Об’єкти цього класу представляють абстракцію генератор. У
лістингу&nbsp;4.15 наведено текст класу з коментарями.</p>

<p class=a3>Лістинг 4.15 –  Клас Generator</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=a1CxSpFirst><span style='font-size:13.0pt'>public class Generator
extends Actor {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     //Посилання на модель
системи</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private Model model;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // Генератор
випадкового часу створення транзакції</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private Randomable
rnd;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // Тривалість роботи
генератора</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private double
finishTime;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // Конструктор</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     public
Generator(String name, GUI gui, Model model) {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              setNameForProtocol(name);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              this.model =
model;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              finishTime =
gui.getChooseDataFinishTime().getDouble();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              rnd =
gui.getChooseRandomGen();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     }</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // Правила дії</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     public void rule() {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          while (getDispatcher().getCurrentTime()
&lt;= finishTime) {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              holdForTime(rnd.next());</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              getDispatcher().printToProtocol(</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>                        &quot; 
&quot; + getNameForProtocol() + &quot; створює транзакцію.&quot;);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              Transaction
transaction = new Transaction(model);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              dispatcher.addStartingActor(transaction);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          }</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     }</span></p>

<p class=a1CxSpLast><span style='font-size:13.0pt'>}</span></p>

</div>

<h4 style='margin-top:12.0pt;margin-right:39.7pt;margin-bottom:3.0pt;
margin-left:3.0cm;text-indent:-45.35pt'><a name="_Toc484953450"></a><a
name="_Toc392262920"></a><a name="_Toc390801318"><span style='font-weight:normal'>1.1.2.2
</span>Клас </a>Device</h4>

<p class=a>Об’єкти цього класу представляють абстракцію обслуговуючий пристрій.
У лістингу 4.16 наведено текст класу з коментарями.</p>

<p class=a3>Лістинг 4. 16 -  Клас Device</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=a1CxSpFirst><span style='font-size:13.0pt'>// Клас для обслуговуючого
пристрою</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>public class Device
extends Actor {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // Черга для
тразакцій</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private
QueueForTransactions&lt;Transaction&gt; queue;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // Генератор часу, що
витрачає прилад на обслуговування транзакції</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private Randomable
rnd;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // Час роботи
генератора</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     private double
finishTime;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // Конструктор, у
якому ініціалізуються усі поля класу</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     // через доступ до
моделі та візуальної частини</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     public Device(String
name, GUI gui, Model model) {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          setNameForProtocol(name);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          finishTime =
gui.getChooseDataFinishTime().getDouble();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          rnd =
gui.getChooseRandomDev();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          queue = model.getQueue();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     }</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>&nbsp;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     public void rule()
throws DispatcherFinishException {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          // Створюємо
умову, виконання якої буде чекати актор</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          BooleanSupplier
queueSize = () -&gt; queue.size() &gt; 0;</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          // цикл
виконання правил дії</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          while
(getDispatcher().getCurrentTime() &lt;= finishTime) {</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              // Перевірка
наявності транзакції та чекання на її появу</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              waitForCondition(queueSize,
&quot;у черзі має з'явиться транзакція&quot;);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              Transaction
transaction = queue.removeFirst();</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              // Імітація
обробки транзакції</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              holdForTime(rnd.next());</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>              transaction.setServiceDone(true);</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>          }</span></p>

<p class=a1CxSpMiddle><span style='font-size:13.0pt'>     }</span></p>

<p class=a1CxSpLast><span style='font-size:13.0pt'>}</span></p>

</div>

<p class=MsoNormal><span lang=RU>&nbsp;</span></p>

</div>

</body>

</html>
